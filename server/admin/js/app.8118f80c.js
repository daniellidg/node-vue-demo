(function(t){function e(e){for(var a,i,l=e[0],o=e[1],c=e[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,l=1;l<n.length;l++){var o=n[l];0!==r[o]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/admin/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"22de":function(t,e,n){"use strict";var a=n("25be"),r=n.n(a);r.a},"25be":function(t,e,n){},"38c8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i={name:"app",components:{}},l=i,o=(n("034f"),n("2877")),c=Object(o["a"])(l,r,s,!1,null,null,null),u=c.exports,m=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("el-card",{staticClass:"login-card"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("请先登录")])]),n("el-form",[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1)},p=[],h=(n("96cf"),n("3b8d")),f={data:function(){return{model:{username:"",password:""}}},methods:{login:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("login",this.model);case 2:e=t.sent,localStorage.setItem("token",e.data.data.token),0===e.data.status&&(this.$message({type:"success",message:"登录成功"}),this.$router.push("/"));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},b=f,v=(n("f242"),Object(o["a"])(b,d,p,!1,null,"781c8125",null)),g=v.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100vh"}},[n("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[n("el-menu",{attrs:{router:"","default-openeds":["1"],"unique-opened":"","default-active":t.$route.path}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),t._v("内容管理")]),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("分类管理")]),n("el-menu-item",{attrs:{index:"/categories/create"}},[t._v("新建分类")]),n("el-menu-item",{attrs:{index:"/categories/list"}},[t._v("分类列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("物品管理")]),n("el-menu-item",{attrs:{index:"/items/create"}},[t._v("新建物品")]),n("el-menu-item",{attrs:{index:"/items/list"}},[t._v("物品列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("英雄管理")]),n("el-menu-item",{attrs:{index:"/heros/create"}},[t._v("新建英雄")]),n("el-menu-item",{attrs:{index:"/heros/list"}},[t._v("英雄列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("文章管理")]),n("el-menu-item",{attrs:{index:"/articles/create"}},[t._v("新建文章")]),n("el-menu-item",{attrs:{index:"/articles/list"}},[t._v("文章列表")])],2),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("广告位管理")]),n("el-menu-item",{attrs:{index:"/ads/create"}},[t._v("新建广告位")]),n("el-menu-item",{attrs:{index:"/ads/list"}},[t._v("广告位列表")])],2)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-user"}),t._v("系统设置")]),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("管理员管理")]),n("el-menu-item",{attrs:{index:"/admin_users/create"}},[t._v("新建管理员")]),n("el-menu-item",{attrs:{index:"/admin_users/list"}},[t._v("管理员列表")])],2)],2)],1)],1),n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[n("el-dropdown",[n("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("查看")]),n("el-dropdown-item",[t._v("新增")]),n("el-dropdown-item",[t._v("删除")])],1)],1),n("span",[t._v("王小虎")])],1),n("el-main",[n("router-view",{key:t.$route.path})],1)],1)],1)},w=[],y=(n("6c7b"),{data:function(){var t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(t)}}}),_=y,k=(n("22de"),Object(o["a"])(_,x,w,!1,null,null,null)),$=k.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"分类")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:""}},[n("el-select",{attrs:{placeholder:"请选择上级分类"},model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},S=[],R={props:{id:{type:String}},data:function(){return{model:{},parents:[]}},methods:{onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/categories/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/categories/",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchCategoryById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/categories/".concat(this.id));case 2:e=t.sent,this.model=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchCategories:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/categories");case 2:e=t.sent,this.parents=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.fetchCategories(),this.id&&this.fetchCategoryById()}},O=R,j=Object(o["a"])(O,C,S,!1,null,null,null),L=j.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("分类列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.categoriesList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},B=[],A=(n("7f7f"),{data:function(){return{categoriesList:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/categories");case 2:e=t.sent,this.categoriesList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/categories/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除分类 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/categories/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}}),T=A,z=Object(o["a"])(T,E,B,!1,null,null,null),D=z.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthorization(),"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.model.icon?n("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},U=[],P={props:{id:{type:String}},data:function(){return{model:{}}},methods:{onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/items/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/items",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$router.push("/items/list"),this.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchCategoryById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/items/".concat(this.id));case 2:e=t.sent,this.model=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleAvatarSuccess:function(t,e){this.$set(this.model,"icon",t.url)},beforeAvatarUpload:function(t){}},created:function(){this.id&&this.fetchCategoryById()}},M=P,N=Object(o["a"])(M,I,U,!1,null,null,null),G=N.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("物品列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.categoriesList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{height:"2rem"},attrs:{src:t.row.icon}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},V=[],q={data:function(){return{categoriesList:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/items");case 2:e=t.sent,this.categoriesList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/items/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除物品 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/items/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}},J=q,F=Object(o["a"])(J,H,V,!1,null,null,null),K=F.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"英雄")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-tabs",{attrs:{type:"card"},model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[n("el-tab-pane",{attrs:{label:"基础信息",name:"basic"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"头像"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthorization(),"show-file-list":!1,"on-success":function(e){return t.$set(t.model,"icon",e.url)},"before-upload":t.beforeAvatarUpload}},[t.model.icon?n("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"Banner"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthorization(),"show-file-list":!1,"on-success":function(e){return t.$set(t.model,"banner",e.url)},"before-upload":t.beforeAvatarUpload}},[t.model.banner?n("img",{staticClass:"avatar",staticStyle:{width:"auto"},attrs:{src:t.model.banner}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"称号"}},[n("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"请选择类型",multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),n("el-form-item",{attrs:{label:"难度"}},[n("el-rate",{staticStyle:{"margin-top":"0.5rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),n("el-form-item",{attrs:{label:"技能"}},[n("el-rate",{staticStyle:{"margin-top":"0.5rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.skill,callback:function(e){t.$set(t.model.scores,"skill",e)},expression:"model.scores.skill"}})],1),n("el-form-item",{attrs:{label:"攻击"}},[n("el-rate",{staticStyle:{"margin-top":"0.5rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),n("el-form-item",{attrs:{label:"生存"}},[n("el-rate",{staticStyle:{"margin-top":"0.5rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),n("el-form-item",{attrs:{label:"顺风出装"}},[n("el-select",{attrs:{placeholder:"请选择装备",multiple:""},model:{value:t.model.itemsGood,callback:function(e){t.$set(t.model,"itemsGood",e)},expression:"model.itemsGood"}},t._l(t.items,function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),n("el-form-item",{attrs:{label:"逆风出装"}},[n("el-select",{attrs:{placeholder:"请选择装备",multiple:""},model:{value:t.model.itemsBad,callback:function(e){t.$set(t.model,"itemsBad",e)},expression:"model.itemsBad"}},t._l(t.items,function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),n("el-form-item",{attrs:{label:"使用技巧"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.model.usageTips,callback:function(e){t.$set(t.model,"usageTips",e)},expression:"model.usageTips"}})],1),n("el-form-item",{attrs:{label:"对抗技巧"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTips,callback:function(e){t.$set(t.model,"battleTips",e)},expression:"model.battleTips"}})],1),n("el-form-item",{attrs:{label:"团战思路"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTips,callback:function(e){t.$set(t.model,"teamTips",e)},expression:"model.teamTips"}})],1)],1),n("el-tab-pane",{attrs:{label:"技能信息",name:"skills"}},[n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.skills.push({})}}},[n("i",{staticClass:"el-icon-plus"}),t._v("添加技能\n        ")]),n("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.skills,function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-form-item",{attrs:{label:"技能名称"}},[n("el-input",{model:{value:e.title,callback:function(n){t.$set(e,"title",n)},expression:"item.title"}})],1),n("el-form-item",{attrs:{label:"冷却值"}},[n("el-input",{model:{value:e.delay,callback:function(n){t.$set(e,"delay",n)},expression:"item.delay"}})],1),n("el-form-item",{attrs:{label:"消耗"}},[n("el-input",{model:{value:e.cost,callback:function(n){t.$set(e,"cost",n)},expression:"item.cost"}})],1),n("el-form-item",{attrs:{label:"技能头像"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthorization(),"show-file-list":!1,"on-success":function(t){return e.icon=t.url},"before-upload":t.beforeAvatarUpload}},[e.icon?n("img",{staticClass:"avatar",attrs:{src:e.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"技能描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(n){t.$set(e,"description",n)},expression:"item.description"}})],1),n("el-form-item",{attrs:{label:"技能提示"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(n){t.$set(e,"tips",n)},expression:"item.tips"}})],1),n("el-form-item",[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.skills.splice(a,1)}}},[t._v("删除")])],1)],1)}),1)],1),n("el-tab-pane",{attrs:{label:"最佳搭档",name:"partners"}},[n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.partners.push({})}}},[n("i",{staticClass:"el-icon-plus"}),t._v("添加英雄\n        ")]),n("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.partners,function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-form-item",{attrs:{label:"英雄名称"}},[n("el-select",{attrs:{filterable:""},model:{value:e.hero,callback:function(n){t.$set(e,"hero",n)},expression:"item.hero"}},t._l(t.heroes,function(t){return n("el-option",{key:t._id,attrs:{value:t._id,label:t.name}})}),1)],1),n("el-form-item",{attrs:{label:"英雄描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(n){t.$set(e,"description",n)},expression:"item.description"}})],1),n("el-form-item",[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.partners.splice(a,1)}}},[t._v("删除")])],1)],1)}),1)],1)],1),n("el-form-item",[n("el-button",{staticStyle:{"margin-top":"2rem"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},W=[],X={props:{id:{type:String}},data:function(){return{selectTab:"basic",items:[],heroes:[],model:{skills:[],partners:[],scores:{difficult:0}},categories:[]}},methods:{onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/heros/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/heros",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchDetailsById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/heros/".concat(this.id));case 2:e=t.sent,this.model=Object.assign({},this.model,e.data);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleAvatarSuccess:function(t,e){this.$set(this.model,"icon",t.url)},beforeAvatarUpload:function(t){},fetchCategories:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/categories");case 2:e=t.sent,this.categories=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchItems:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/items");case 2:e=t.sent,this.items=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchHeroes:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/heroes");case 2:e=t.sent,this.heroes=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.fetchHeroes(),this.fetchItems(),this.fetchCategories(),this.id&&this.fetchDetailsById()}},Y=X,Z=Object(o["a"])(Y,Q,W,!1,null,"38f976ec",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("英雄列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.categoriesList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"title",label:"称号"}}),n("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{height:"2rem"},attrs:{src:t.row.icon}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},nt=[],at={data:function(){return{categoriesList:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/heros");case 2:e=t.sent,this.categoriesList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/heros/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除英雄 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/heros/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}},rt=at,st=Object(o["a"])(rt,et,nt,!1,null,null,null),it=st.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"所属分类"}},[n("el-select",{attrs:{placeholder:"请选择所属分类",multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}),1)],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"详情"}},[n("vue-editor",{attrs:{useCustomImageHandler:""},on:{imageAdded:t.handleImageAdded},model:{value:t.model.content,callback:function(e){t.$set(t.model,"content",e)},expression:"model.content"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},ot=[],ct=n("5873"),ut={props:{id:{type:String}},components:{VueEditor:ct["a"]},data:function(){return{model:{},categories:[]}},methods:{handleImageAdded:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,n,a,r){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=new FormData,s.append("file",e),t.next=4,this.$http.post("upload",s);case 4:i=t.sent,n.insertEmbed(a,"image",i.data.url),r();case 7:case"end":return t.stop()}},t,this)}));function e(e,n,a,r){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/articles/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/articles/",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$router.push("/articles/list"),this.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchArticleById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/articles/".concat(this.id));case 2:e=t.sent,this.model=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchCategories:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/categories");case 2:e=t.sent,this.categories=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.fetchCategories(),this.id&&this.fetchArticleById()}},mt=ut,dt=Object(o["a"])(mt,lt,ot,!1,null,null,null),pt=dt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("文章列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"title",label:"标题"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},ft=[],bt={data:function(){return{lists:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/articles");case 2:e=t.sent,this.lists=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/articles/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除文章 ".concat(t.title,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/articles/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}},vt=bt,gt=Object(o["a"])(vt,ht,ft,!1,null,null,null),xt=gt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"广告"}},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:t.addNewAd}},[t._v("新建广告")]),n("el-row",t._l(t.model.items,function(e,a){return n("el-col",{key:e._id,attrs:{span:24}},[n("el-form-item",{attrs:{label:"跳转链接"}},[n("el-input",{model:{value:e.link,callback:function(n){t.$set(e,"link",n)},expression:"item.link"}})],1),n("el-form-item",{attrs:{label:"图片"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthorization(),"show-file-list":!1,"on-success":function(t){return e.image=t.url}}},[e.image?n("img",{staticClass:"avatar",staticStyle:{width:"auto"},attrs:{src:e.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(e){return t.model.items.splice(a,1)}}},[t._v("删除")])],1)],1)}),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},yt=[],_t={props:{id:{type:String}},data:function(){return{model:{items:[]}}},methods:{addNewAd:function(){this.model.items.push({link:"",image:""})},onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/ads/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/ads/",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchDataById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/ads/".concat(this.id));case 2:e=t.sent,this.model=Object.assign({},this.model,e.data);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id&&this.fetchDataById()}},kt=_t,$t=Object(o["a"])(kt,wt,yt,!1,null,null,null),Ct=$t.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("广告位列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Rt=[],Ot={data:function(){return{dataList:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/ads");case 2:e=t.sent,this.dataList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/ads/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除分类 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/ads/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}},jt=Ot,Lt=Object(o["a"])(jt,St,Rt,!1,null,null,null),Et=Lt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},At=[],Tt={props:{id:{type:String}},data:function(){return{model:{}}},methods:{onSubmit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=6;break}return t.next=3,this.$http.put("rest/admin_users/".concat(this.id),this.model);case 3:e=t.sent,t.next=9;break;case 6:return t.next=8,this.$http.post("rest/admin_users/",this.model);case 8:e=t.sent;case 9:console.log("onSubmit:",e),this.$router.push("/admin_users/list"),this.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchDataById:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/admin_users/".concat(this.id));case 2:e=t.sent,this.model=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id&&this.fetchDataById()}},zt=Tt,Dt=Object(o["a"])(zt,Bt,At,!1,null,null,null),It=Dt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("管理员列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList}},[n("el-table-column",{attrs:{prop:"_id",label:"ID",width:"260"}}),n("el-table-column",{attrs:{prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEditClick(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDeleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Pt=[],Mt={data:function(){return{dataList:[]}},methods:{fetchLists:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/admin_users");case 2:e=t.sent,this.dataList=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditClick:function(t){this.$router.push("/admin_users/edit/".concat(t._id))},handleDeleteClick:function(t){var e=this;this.$confirm("是否确定要删除用户 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.delete("rest/admin_users/".concat(t._id));case 2:a=n.sent,0===a.data.status&&(e.$message({type:"success",message:"删除成功!"}),e.fetchLists());case 4:case"end":return n.stop()}},n)}))).catch(function(){})}},created:function(){this.fetchLists()}},Nt=Mt,Gt=Object(o["a"])(Nt,Ut,Pt,!1,null,null,null),Ht=Gt.exports;a["default"].use(m["a"]);var Vt=new m["a"]({routes:[{path:"/login",component:g,meta:{isPublic:!0}},{path:"/",name:"main",component:$,children:[{path:"/",component:L},{path:"/categories/create",component:L},{path:"/categories/edit/:id",component:L,props:!0},{path:"/categories/list",component:D},{path:"/items/create",component:G},{path:"/items/edit/:id",component:G,props:!0},{path:"/items/list",component:K},{path:"/heros/create",component:tt},{path:"/heros/edit/:id",component:tt,props:!0},{path:"/heros/list",component:it},{path:"/articles/create",component:pt},{path:"/articles/edit/:id",component:pt,props:!0},{path:"/articles/list",component:xt},{path:"/ads/create",component:Ct},{path:"/ads/edit/:id",component:Ct,props:!0},{path:"/ads/list",component:Et},{path:"/admin_users/create",component:It},{path:"/admin_users/edit/:id",component:It,props:!0},{path:"/admin_users/list",component:Ht}]}]});Vt.beforeEach(function(t,e,n){if(!t.meta.isPublic&&!localStorage.token)return n("/login");n()});var qt=Vt,Jt=n("5c96"),Ft=n.n(Jt);n("0fae");a["default"].use(Ft.a);var Kt=n("bc3a"),Qt=n.n(Kt),Wt=Qt.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api"});Wt.interceptors.request.use(function(t){var e=localStorage.getItem("token");return e&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t},function(t){return Promise.reject(t)}),Wt.interceptors.response.use(function(t){return t},function(t){return t.response.data.message&&a["default"].prototype.$message({type:"error",message:t.response.data.message}),401===t.response.status&&qt.push("/login"),Promise.reject(t)});var Xt=Wt;n("38c8");a["default"].config.productionTip=!1,a["default"].prototype.$http=Xt,a["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthorization:function(){return{Authorization:"Beaer ".concat(localStorage.token||"")}}}}),new a["default"]({router:qt,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,n){},a74e:function(t,e,n){},f242:function(t,e,n){"use strict";var a=n("a74e"),r=n.n(a);r.a}});
//# sourceMappingURL=app.8118f80c.js.map